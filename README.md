# Vancouver Open Data Hackathon: Team Transit 

Winning entry in the "Transit" category at the 2016 Vancouver Open Data Day Hackathon. (Other winners [here](https://www.opendatabc.ca/blog/amazing-results-from-the-vancouver-open-data-day-hackathon).)

[Preview output here](http://htmlpreview.github.io/?https://github.com/dshkol/translink_hackathon/blob/master/index.html)

### A visualization of a distance-based fare structure for the Expo Skytrain line in Vancouver

This project was conceived as a thought experiment to create a visual representation of how prices would change for Expo line commuters following the implementation of a distance based fare instead of the existing zone fare structure. 

### Data and Methodology

Using open geographic data from the General Transit Feed Specification, we turned the Expo line system network into a graph network and calculated actual distances travelled between stations using shortest-path algorithms. We also rely on Translink's website for zone pricing information.

Network data was generated in Python, data was crunched in R, and the heatmap visualization is a d3.js object using the htmlwidgets framework to export R data into dynamic web content (relying on a slightly modified version of the excellent [networkD3 package](http://christophergandrud.github.io/networkD3/).  

### Distance-based Fare Structure

The visualization shown here relies on the (arbitrary) price of $0.30 per kilometre of actual travel distance on the line. Other price points would lead to different pricing structures. Our team initially calculated a fare of $0.19 per km travelled, based on the current fare of $5.50 and travel distance between terminus stations. Under this price point, no commuter would be worse off than under the current zone regime - most would be better off; however, it would likely mean significant loss of revenue for Translink.

An more accurate model of a distance-based fare structure that aspires to be revenue normal would require more information. Specifically, we would need to know actual revenues generated by this line, as well as the station to station flows. Using this data, simulations can be run until a stable optimal price per km is identified. At this optimal prices, the distance-based fares can be revenue neutral, while riders pay prices that more accurately, and fairly, represent their system usage.   

### Dynamic model

We also constructed and presented a dynamic visualization showing station-to-station effects changing with custom user inputs for pricing per kilometre. The dynamic visualization is built as an R Shiny object and is available at https://github.com/vinchiu/transit-distance-frontend-hackathon. 

### Team members

Renee Mak, Yash Pareek, Peter Chin, Dmitry Shkolnik, Richard Shaw, Greg Stegeman, Vincent Chiu

### To-Do

Some remaining items to finish up for this in the future:
* Integrate dynamic Shiny visualization into static webpage. 
* Expand and refine web-page content.
